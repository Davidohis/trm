- table:
    schema: public
    name: form_responses
  object_relationships:
  - name: form
    using:
      foreign_key_constraint_on: form_id
  - name: techie
    using:
      foreign_key_constraint_on: techie_id
  select_permissions:
  - role: user
    permission:
      columns:
      - answers
      - created_at
      - form_id
      - id
      - techie_id
      - typeform_event
      - typeform_response_token
      - updated_at
      filter:
        form:
          location:
            _eq: x-hasura-location
      allow_aggregations: true
  event_triggers:
  - name: form-response
    definition:
      enable_manual: true
      insert:
        columns: '*'
      update:
        columns:
        - answers
        - typeform_event
        - typeform_response_token
        - created_at
        - updated_at
        - form_id
        - techie_id
        - id
    retry_conf:
      num_retries: 3
      interval_sec: 10
      timeout_sec: 60
    webhook_from_env: FN_URL_FORM_RESPONSE
- table:
    schema: public
    name: forms
  object_relationships:
  - name: locationByLocation
    using:
      foreign_key_constraint_on: location
  - name: semester
    using:
      foreign_key_constraint_on: semester_id
  array_relationships:
  - name: form_responses
    using:
      foreign_key_constraint_on:
        column: form_id
        table:
          schema: public
          name: form_responses
  insert_permissions:
  - role: user
    permission:
      check:
        location:
          _eq: x-hasura-location
      set:
        location: x-hasura-Location
      columns:
      - description
      - imports_techies
      - semester_id
      - typeform_id
      backend_only: false
  select_permissions:
  - role: user
    permission:
      columns:
      - created_at
      - description
      - id
      - imports_techies
      - semester_id
      - typeform_id
      - updated_at
      - webhook_installed_at
      filter:
        location:
          _eq: x-hasura-location
      allow_aggregations: true
  update_permissions:
  - role: user
    permission:
      columns:
      - description
      - imports_techies
      - semester_id
      - typeform_id
      - updated_at
      filter:
        location:
          _eq: x-hasura-location
      check:
        location:
          _eq: x-hasura-location
      set:
        location: x-hasura-Location
  delete_permissions:
  - role: user
    permission:
      filter:
        location:
          _eq: x-hasura-location
  event_triggers:
  - name: typeform
    definition:
      enable_manual: true
      insert:
        columns: '*'
      update:
        columns:
        - imports_techies
        - description
        - typeform_id
        - location
        - created_at
        - updated_at
        - webhook_installed_at
        - typeform_secret
        - id
    retry_conf:
      num_retries: 3
      interval_sec: 10
      timeout_sec: 60
    webhook_from_env: FN_URL_TYPEFORM
- table:
    schema: public
    name: locations
  array_relationships:
  - name: forms
    using:
      foreign_key_constraint_on:
        column: location
        table:
          schema: public
          name: forms
  - name: semesters
    using:
      foreign_key_constraint_on:
        column: location
        table:
          schema: public
          name: semesters
  - name: techies
    using:
      foreign_key_constraint_on:
        column: location
        table:
          schema: public
          name: techies
  - name: typeform_users
    using:
      foreign_key_constraint_on:
        column: location
        table:
          schema: public
          name: typeform_users
  select_permissions:
  - role: user
    permission:
      columns:
      - value
      filter: {}
      allow_aggregations: true
- table:
    schema: public
    name: semesters
  object_relationships:
  - name: locationByLocation
    using:
      foreign_key_constraint_on: location
  array_relationships:
  - name: forms
    using:
      foreign_key_constraint_on:
        column: semester_id
        table:
          schema: public
          name: forms
  - name: techies
    using:
      foreign_key_constraint_on:
        column: semester_id
        table:
          schema: public
          name: techies
  insert_permissions:
  - role: user
    permission:
      check:
        location:
          _eq: x-hasura-location
      set:
        location: x-hasura-Location
      columns:
      - academy_phase_ends_at
      - application_period_ends_at
      - description
      - ends_at
      - starts_at
      backend_only: false
  select_permissions:
  - role: user
    permission:
      columns:
      - academy_phase_ends_at
      - application_period_ends_at
      - created_at
      - description
      - ends_at
      - id
      - starts_at
      - updated_at
      filter:
        location:
          _eq: x-hasura-location
      allow_aggregations: true
  update_permissions:
  - role: user
    permission:
      columns:
      - academy_phase_ends_at
      - application_period_ends_at
      - description
      - ends_at
      - starts_at
      - updated_at
      filter:
        location:
          _eq: x-hasura-location
      check:
        location:
          _eq: x-hasura-location
      set:
        location: x-hasura-Location
  delete_permissions:
  - role: user
    permission:
      filter:
        location:
          _eq: x-hasura-location
- table:
    schema: public
    name: techie_lifecycle_states
  array_relationships:
  - name: techies
    using:
      foreign_key_constraint_on:
        column: state
        table:
          schema: public
          name: techies
  select_permissions:
  - role: user
    permission:
      columns:
      - value
      filter: {}
      allow_aggregations: true
- table:
    schema: public
    name: techies
  object_relationships:
  - name: locationByLocation
    using:
      foreign_key_constraint_on: location
  - name: semester
    using:
      foreign_key_constraint_on: semester_id
  - name: techie_lifecycle_state
    using:
      foreign_key_constraint_on: state
  array_relationships:
  - name: form_responses
    using:
      foreign_key_constraint_on:
        column: techie_id
        table:
          schema: public
          name: form_responses
  select_permissions:
  - role: user
    permission:
      columns:
      - created_at
      - email
      - first_name
      - id
      - last_name
      - semester_id
      - state
      - techie_key
      - updated_at
      filter: {}
      allow_aggregations: true
  update_permissions:
  - role: user
    permission:
      columns:
      - email
      - first_name
      - last_name
      - semester_id
      - state
      - updated_at
      filter:
        location:
          _eq: x-hasura-location
      check:
        location:
          _eq: x-hasura-location
      set:
        location: x-hasura-Location
- table:
    schema: public
    name: typeform_users
  object_relationships:
  - name: locationByLocation
    using:
      foreign_key_constraint_on: location
